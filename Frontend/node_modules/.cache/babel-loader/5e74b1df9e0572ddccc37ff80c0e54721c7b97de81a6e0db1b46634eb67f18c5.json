{"ast":null,"code":"var _jsxFileName = \"E:\\\\11TH\\\\CSE470 project\\\\yasin\\\\food_delivery_by_mern\\\\food_delivery_by_mern\\\\Frontend\\\\src\\\\context\\\\WishlistContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useState, useEffect, useContext } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst WishlistContext = /*#__PURE__*/createContext();\nexport const WishlistProvider = ({\n  children\n}) => {\n  _s();\n  const [wishlistItems, setWishlistItems] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const fetchWishlist = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      if (!token) {\n        setWishlistItems([]);\n        setLoading(false);\n        return;\n      }\n      const response = await axios.get('http://localhost:3001/wishlist', {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setWishlistItems(response.data.items || []);\n    } catch (error) {\n      console.error('Error fetching wishlist:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchWishlist();\n  }, []);\n  const addToWishlist = async foodItemId => {\n    try {\n      const token = localStorage.getItem('token');\n      if (!token) return;\n      await axios.post('http://localhost:3001/wishlist/add', {\n        foodItemId\n      }, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      fetchWishlist();\n    } catch (error) {\n      console.error('Error adding to wishlist:', error);\n    }\n  };\n  const removeFromWishlist = async foodItemId => {\n    try {\n      const token = localStorage.getItem('token');\n      if (!token) return;\n      await axios.delete(`http://localhost:3001/wishlist/remove/${foodItemId}`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      fetchWishlist();\n    } catch (error) {\n      console.error('Error removing from wishlist:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(WishlistContext.Provider, {\n    value: {\n      wishlistItems,\n      loading,\n      addToWishlist,\n      removeFromWishlist,\n      wishlistCount: wishlistItems.length\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 5\n  }, this);\n};\n_s(WishlistProvider, \"SqXz9KVI6MT+bX4ekOhO3DKokec=\");\n_c = WishlistProvider;\nexport const useWishlist = () => {\n  _s2();\n  return useContext(WishlistContext);\n};\n_s2(useWishlist, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nvar _c;\n$RefreshReg$(_c, \"WishlistProvider\");","map":{"version":3,"names":["React","createContext","useState","useEffect","useContext","axios","jsxDEV","_jsxDEV","WishlistContext","WishlistProvider","children","_s","wishlistItems","setWishlistItems","loading","setLoading","fetchWishlist","token","localStorage","getItem","response","get","headers","Authorization","data","items","error","console","addToWishlist","foodItemId","post","removeFromWishlist","delete","Provider","value","wishlistCount","length","fileName","_jsxFileName","lineNumber","columnNumber","_c","useWishlist","_s2","$RefreshReg$"],"sources":["E:/11TH/CSE470 project/yasin/food_delivery_by_mern/food_delivery_by_mern/Frontend/src/context/WishlistContext.js"],"sourcesContent":["import React, { createContext, useState, useEffect, useContext } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst WishlistContext = createContext();\r\n\r\nexport const WishlistProvider = ({ children }) => {\r\n  const [wishlistItems, setWishlistItems] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const fetchWishlist = async () => {\r\n    try {\r\n      \r\n      const token = localStorage.getItem('token');\r\n      if (!token) {\r\n        setWishlistItems([]);\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      const response = await axios.get('http://localhost:3001/wishlist', {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`\r\n        }\r\n      });\r\n\r\n      setWishlistItems(response.data.items || []);\r\n    } catch (error) {\r\n      console.error('Error fetching wishlist:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchWishlist();\r\n  }, []);\r\n\r\n  const addToWishlist = async (foodItemId) => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      if (!token) return;\r\n\r\n      await axios.post('http://localhost:3001/wishlist/add', {\r\n        foodItemId\r\n      }, {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`\r\n        }\r\n      });\r\n\r\n      fetchWishlist();\r\n    } catch (error) {\r\n      console.error('Error adding to wishlist:', error);\r\n    }\r\n  };\r\n\r\n  const removeFromWishlist = async (foodItemId) => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      if (!token) return;\r\n\r\n      await axios.delete(`http://localhost:3001/wishlist/remove/${foodItemId}`, {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`\r\n        }\r\n      });\r\n\r\n      fetchWishlist();\r\n    } catch (error) {\r\n      console.error('Error removing from wishlist:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <WishlistContext.Provider value={{ \r\n      wishlistItems, \r\n      loading, \r\n      addToWishlist, \r\n      removeFromWishlist,\r\n      wishlistCount: wishlistItems.length\r\n    }}>\r\n      {children}\r\n    </WishlistContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useWishlist = () => useContext(WishlistContext);\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}